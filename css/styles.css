/* =========================================
   1. VARIABLES & GLOBAL RESET
   ========================================= */
:root {
    --font-main: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    --color-text: #1a1a1a;
    --color-bg: #ffffff;
    --color-blue: #002FA7;
    --color-border: #e0e0e0;
}

*, *::before, *::after, body, html {
    cursor: none !important; /* Hide System Cursor Globally */
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    user-select: none;
}

body {
    margin: 0;
    padding: 0;
    font-family: var(--font-main);
    background-color: var(--color-bg);
    color: var(--color-text);
    font-size: 14px;
    overflow: hidden; 
    transition: background-color 1s;
}

/* Custom Scrollbar Styling (Global) */
::-webkit-scrollbar {
   display: none;
}
/* =========================================
   2. CANVAS & BACKGROUND LAYERS
   ========================================= */
#three-canvas {
    position: fixed !important;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 6 !important;        
    opacity: 0;        
    filter: blur(10px); 
    transition: opacity 2s ease, filter 2s ease !important;
    pointer-events: none !important;
}

/* =========================================
   3. CUSTOM CURSOR SYSTEM
   ========================================= */
#custom-cursor {
    position: fixed;
    top: 0;
    left: 0;
    width: 7px;
    height: 7px;
    background-color: red; 
    border-radius: 50%;
    pointer-events: none; 
    z-index: 99999; 
    transform: translate(-50%, -50%);
    transition: width 0.2s ease, height 0.2s ease, background-color 0.2s ease;
    filter: blur(1px);
}

#custom-cursor.hover-active {
    box-shadow: 0 0 3px 1px rgba(255, 0, 0);
}

/* Loading Pulse Animation applied to cursor */
.cursor-loading {
    width: 8px !important;
    height: 8px !important;
    background-color: red !important;
    animation: loadPulse 0.8s infinite ease-in-out;
}

@keyframes loadPulse {
    0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(255, 0, 0, 0); }
    100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
}

/* Carousel Arrow Transformations */
#custom-cursor.cursor-arrow-next,
#custom-cursor.cursor-arrow-prev {
    background: transparent !important; 
    border-radius: 0; 
    width: 20px !important;
    height: 20px !important;
    box-shadow: none !important;
    filter: none !important;
    border-top: 4px solid red;
    border-right: 4px solid red;
    transition: transform 0.2s ease;
}

#custom-cursor.cursor-arrow-next {
    transform: translate(-50%, -50%) rotate(45deg);
}
#custom-cursor.cursor-arrow-prev {
    transform: translate(-50%, -50%) rotate(-135deg);
}

/* Touch Interaction Pulse */
.touch-pulse {
    position: fixed;
    width: 20px;
    height: 20px;
    background: rgba(255, 0, 0, 0.7); 
    border-radius: 50%;
    pointer-events: none;
    z-index: 100000;
    transform: translate(-50%, -50%);
    animation: pulse-out 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
}

@keyframes pulse-out {
    0% { transform: translate(-50%, -50%) scale(0.2); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
}

/* Hide custom cursor on touch devices */
@media (hover: none) and (pointer: coarse) {
    #custom-cursor, .cursor-dot, .cursor-circle {
        display: none !important;
        opacity: 0 !important;
    }
    body { cursor: auto; }
}

/* =========================================
   4. LOADING SCREEN
   ========================================= */
#loading-screen {
    position: fixed !important;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: #ffffff !important; 
    z-index: 9999 !important;      
    opacity: 1;        
    display: flex;
    justify-content: center;
    align-items: center;
    transition: opacity 2s ease-in-out !important;
    pointer-events: auto;
}

.is-loading-blur {
    filter: blur(10px) !important;
}

.cursor-loading-pulse {
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) scale(1) !important;
    pointer-events: none;
    z-index: 10000; 
    filter: blur(2px);
    scale: 2;
    animation: cursorPulse 1.5s infinite ease-in-out;
}

/* =========================================
   5. HEADER & NAVIGATION
   ========================================= */
header {
    position: fixed;
    top: 50px;
    left: 50%;
    transform: translate(-50%, -50%); 
    max-width: 80%;
    width: max-content;
    z-index: 10001 !important; 
    pointer-events: none;
    text-align: center;
}

.header-container {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 15px;
    pointer-events: auto; 
}   

.title {
    font-weight: 400;
    font-size: 1.8rem;
    margin: 0;
    cursor: pointer;
    background: none;
    padding: 10px 4px;
    pointer-events: auto;
    transition: transform 0.3s ease;

}
.title:hover {
    transform: scale(1.015);
}

/* The Red Header Dot (Archive Trigger) */
#fixed-archive-dot {
    width: 12px;
    height: 12px;
    background-color: red;
    border-radius: 50%;
    cursor: pointer;
    position: relative;
    animation: pulseGlow 4s infinite ease-in-out;
    transition: box-shadow 0.3s ease;
    top: 1px;
}
#fixed-archive-dot:hover {
    box-shadow: 0 0 20px 5px rgba(255, 0, 0, 1);
    animation: none;
}
#fixed-archive-dot::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    background: transparent;
    border-radius: 50%;
}

@keyframes pulseGlow {
    0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.5), inset 0 0 0 0 rgba(255, 255, 255, 1); }
    50% { box-shadow: 0 0 20px 5px rgba(255, 0, 0, 1), inset 0 0 12px 4px rgba(255, 255, 255, 0); }
    100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.5), inset 0 0 0 0 rgba(255, 255, 255, 1); }
}

footer {
    position: fixed;
    bottom: 40px;
    left: 40px;
    transform: translate(-50%, -50%); 
    max-width: 80%;
    width: max-content;
    z-index: 10001 !important; 
    text-align: center;
}

/* The Red Header Dot (Archive Trigger) */
#fixed-contact-dot {
    width: 12px;
    height: 12px;
    background-color:white;
    border-radius: 50%;
    cursor: pointer;
    position: relative;
    animation: pulseGlow 4s infinite ease-in-out;
    transition: box-shadow 0.8s ease;
    top: 8px;
}

#fixed-contact-dot:hover {
    box-shadow: 0 0 20px 8px rgba(255, 0, 0, 1);
    animation: none;
}
#fixed-contact-dot::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    background: transparent;
    border-radius: 50%;
}

@keyframes pulseGlow {
    0% { box-shadow: 0 0 2px 0 rgba(255, 0, 0, 0.5), inset 0 0 0 0 rgba(255, 255, 255, 1); }
    50% { box-shadow: 0 0 20px 5px rgba(255, 0, 0, 1), inset 0 0 12px 4px rgba(255, 255, 255, 0.2); }
    100% { box-shadow: 0 0 2px 0 rgba(255, 0, 0, 0.5), inset 0 0 0 0 rgba(255, 255, 255, 1); }
}


/* =========================================
   6. 3D SCENE DOTS
   ========================================= */
#main-scene {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 5 !important; 
    opacity: 0;
    filter: blur(10px);
    transition: opacity 1.5s ease, filter 2s ease;
    pointer-events: none; 
}

#dots-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 10;
    pointer-events: none; 
}

.dot {
    position: absolute;
    width: 12px;
    height: 12px;
    background-color: var(--color-blue);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: 11;
    pointer-events: auto;
    will-change: transform, left, top;
}
.dot::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 35px;
    height: 35px;
    transform: translate(-50%, -50%);
    background: transparent;
    border-radius: 50%;
}   

/* 3D Model Glow Effect */
.dot.has-3d::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: -1;
    pointer-events: none; 
    animation: modelGlow 4s infinite ease-out;
}
@keyframes modelGlow {
    0% { box-shadow: 0 0 0 0 rgba(0, 47, 167, 0.5); }
    50% { box-shadow: 0 0 16px 8px rgba(0, 47, 167, 1); }
    100% { box-shadow: 0 0 0 0 rgba(0, 47, 167, 0.5); }
}

/* Audio Sonar Effect */
.dot.has-audio {
    z-index: 10;
    box-shadow: 0 0 5px var(--color-blue);
}
.dot.has-audio::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 60px;
    height: 60px;
    margin-top: -30.5px;
    margin-left: -30.5px;
    border: 1px solid var(--color-blue);
    border-radius: 50%;
    z-index: -1;
    pointer-events: none;
    opacity: 0;
    transform: scale(0.2); 
    animation: audioSonar 1.5s infinite ease-out;
}
@keyframes audioSonar {
    0% { transform: scale(0.2); opacity: 0; border-width: 2px; }
    50% { opacity: 0.8; }
    100% { transform: scale(0.8); opacity: 0; border-width: 0px; }
}

/* =========================================
   7. THE OVERLAY & GLASS CARD (UNIFIED)
   ========================================= */
.overlay {
    display: none; 
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.1); 
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    align-items: center;
    justify-content: center;
    z-index: 100; 
}

/* The Card Logic */
.glass-card {
    /* Floating Card Dimensions */
    width: 85vw; 
    height: 85vh; 
    margin-top: 50px; /* Offset from header */
    padding: 50px;  
    background: rgba(255, 255, 255, 0.2); 
    border-radius: 30px; 
    box-shadow: 0 0 80px rgba(0,0,0,0.08);
    
    position: relative;
    overflow: hidden; 
    display: flex;
    flex-direction: column;
    
    opacity: 0; 
    animation: slideUp 0.5s forwards;
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(60px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Close Button (Universal) */
.close-btn { 
    position: absolute;
    top: 30px;
    right: 30px;
    border: none;
    background: var(--color-blue);
    width: 12px;
    height: 12px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 200; 
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.close-btn:hover { 
    transform: scale(1.1);
    box-shadow: 0 0 10px 4px rgba(0, 47, 167, 0.4); 
}

.close-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;  /* The invisible hit area width */
    height: 40px; /* The invisible hit area height */
    background: transparent;
}

/* =========================================
   8. CONTENT LAYOUTS
   ========================================= */
/* Custom width for Bio only */
/* FORCE BIO WIDTH (Desktop) */
/* We target the ID #about-overlay so this NEVER affects project cards */
#about-overlay .glass-card {
    width: 40vw !important;  /* Use 40% of the viewport width */
    max-width: 700px;        /* Never get wider than 700px */
    min-width: 400px;        /* Never get too skinny */
    transform: translateX(-50%);
}

#bio-container {
     user-select: text !important;
    -webkit-user-select: text !important; /* Safari support */
    cursor: text !important;
}

/* --- A. ARCHIVE & DATABASE --- */
.type-archive .archive-layout {
    display: flex;
    flex-direction: column;
    height: 100%;
    box-sizing: border-box;
    /* ADD THIS: Forces children to the top */
    justify-content: flex-start; 
    align-items: stretch;
}
    
#tag-bar { 
    display: flex; 
    gap: 8px; 
    flex-wrap: wrap;
    margin: 0; /* Remove any default pushing space */
}

.database-wrapper {
    position: relative;
    flex: 1; 
    overflow-y: auto; 
    min-height: 0;
    border-top: 1px solid var(--color-border);
    margin-top: 30px; 
    transition: -webkit-mask-image 0.3s ease; 
}

/* Faded state: Applied via JS */
.database-wrapper.is-faded {
    -webkit-mask-image: linear-gradient(to bottom, rgba(0, 47, 167, 0.8), transparent 100%);
    mask-image: linear-gradient(to bottom, rgba(0, 47, 167, 0.8), transparent 100%);
}
#artist-database {
    border-collapse: collapse; /* Removes gaps between borders */
    table-layout: fixed;       /* 1. Strict Widths: Ignores content length */
    width: 100%;               /* 2. Forces table to fill the container */
}

#artist-database th { 
    text-align: left;
    padding: 12px 8px;
    position: sticky;
    top: 0; 
    background: white; /* Solid white so rows don't show behind headers */
    color: black;
    z-index: 10;
    cursor: pointer;
    border-bottom: 1px solid #e0e0e0;
}

/* Table Columns */
#artist-database th:nth-child(1) { width: 9%; }  
#artist-database th:nth-child(2) { width: 27%; } 
#artist-database th:nth-child(3) { width: 8%; } 
#artist-database th:nth-child(4) { width: 14%; } 
#artist-database th:nth-child(5) { width: 20%; } 
#artist-database th:nth-child(6) { width: 19%; } 

#artist-database th { 
    text-align: left;
    padding: 12px 8px;
    position: sticky;
    top: 0; 
    background: linear-gradient(rgb(255, 255, 255, 1), rgb(255, 255, 255, 0)); 
    color: black;
    z-index: 10;
    cursor: pointer;
    border-bottom: 1px solid #e0e0e0;
    transition: all 0.2s ease-in-out;
    overflow: hidden;
    text-overflow: ellipsis;
}

#artist-database th:hover{
    text-shadow: rgb(0, 47, 167, 0.5) 0 0 8px;
}
#artist-database th.active-sort {
    text-shadow: rgb(0, 47, 167, 1) 0 0 8px;
}
#artist-database td {
    padding: 12px 8px;
    border-bottom: 1px solid #e0e0e0;
}

.project-row.has-folder {
    cursor: pointer;
    transition: all 0.1s ease-in-out;
}
.project-row.has-folder:hover {
    box-shadow: inset 0 0 7px 2px rgb(0, 48, 168, 0.5);
}

/* Filter Tags */
#tag-bar {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}
.tag-btn { 
    background: transparent;
    border: 1px solid #e0e0e0; 
    padding: 4px 14px;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.2s ease-in-out; 
}
.tag-btn:hover {
    box-shadow: inset 0 0 7px 2px rgb(0, 48, 168, 0.2);
}
.tag-btn.active {
    box-shadow: inset 0 0 7px 2px rgb(0, 48, 168, 0.5);
    color: black;
}

/* --- C. PROJECT (3-COLUMN CARD) --- */
.project-grid {
    display: flex; 
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    overflow-x: scroll;
}

/* Group 1: Text Info (Meta + Desc) */
.text-group {
    flex: 0 0 40%; /* 40% Width */
    display: flex;
    flex-direction: row;
    gap: 20px;
    height: 100%;
    padding-top: 10px;
    
}
.col-meta { flex: 1; overflow-y: auto; padding-right: 10px; }
.col-desc {
    flex: 1.5; 
    overflow-y: auto; 
    padding-right: 10px; 
    cursor:none;
}

#popup-description, 
#popup-description p, 
#popup-description span{
    /* Allow highlighting */
    user-select: text !important;
    -webkit-user-select: text !important;
    
    /* BRING BACK THE SYSTEM CURSOR (Crucial!) */
    cursor: text !important; 
    
    /* Ensure clicks pass through to the text */
    pointer-events: auto !important; 
}

/* =========================================
   META DATA "STACKED" LAYOUT
   ========================================= */
.meta-grid {
    display: flex;
    flex-direction: column;
    gap: 20px; /* Space between each block (Year, Place, etc.) */
    margin-top: 40px;
}

.meta-row {
    display: flex;
    flex-direction: column; /* Always Stacked */
    width: 100%;
}

.meta-label {
    width: 100%;
    font-weight: 600; 
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    opacity: 0.6;
    
    /* The Line is now strictly under the title */
    border-bottom: 1.5px solid #e0e0e0; 
    padding-bottom: 4px;
    margin-bottom: 8px; /* Space between line and content */

}

.meta-value {
    font-size: 0.95rem;
    line-height: 1.4;
    font-weight: 400;
    color: var(--color-text);
    white-space: pre-wrap;
     user-select: text !important;
    -webkit-user-select: text !important; /* Safari support */
    cursor: text !important;
}

/* Group 2: Visuals */
.col-visual {
    flex: 1; /* Remaining 60% Width */
    height: 100%;
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    position: relative;
    padding: 10px;
}

/* Project Typography */
.col-meta h2 {
    font-size: 1.6rem;
    margin-top: 0;
    font-weight: 400;
    line-height: 1.2;
}
.meta-data p {
    font-size: 0.9rem;
    color: #e0e0e0;
    margin: 5px 0; 
}
.col-desc p {
    font-size: 1rem;
    line-height: 1.5;
}

/* =========================================
   SCROLL FADE OVERLAY (The "White Shadow")
   ========================================= */
.scroll-shadow-overlay {
    position: fixed;       /* Locks it to the screen, ignoring scrollbars */
    z-index: 9999;         /* Forces it on top of text */
    pointer-events: none;  /* Allows you to click/scroll "through" it */
    
    /* The Look */
    height: 60px;          
    background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgb(255, 0, 0) 90%);
    
    /* Animation */
    opacity: 0;
    transition: opacity 0.3s ease;
}
.scroll-shadow-overlay.is-visible {
    opacity: 1;
}

.mobile-card-shadow {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 80px; /* Taller fade for mobile touch areas */
    
    /* Gradient: Transparent to Background Color */
    /* Note: If your card is slightly transparent, this fades to white. 
       If you want it to fade to the glass color, use rgba(255,255,255,0.2) at the end, 
       but standard white usually looks cleanest for readability. */
    background: linear-gradient(to bottom, rgba(255,255,255,0), rgb(255, 255, 255) 90%);
    
    z-index: 9999;
    pointer-events: none;
    
    /* SQUARE CORNERS as requested */
    border-radius: 0; 
}
/* =========================================
   9. VISUAL INTERACTIONS & MEDIA
   ========================================= */

/* Generic Visuals */
.visual-content {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
}

/* Clickable Link Images */
.website-link-img {
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
}
.website-link-img:hover, .website-link-img.hover-active {
    transform: scale(1.005);
    box-shadow: 0 0 7px 2px rgba(0, 47, 167, 0.5);
}

/* Carousel Logic */
.carousel-container {
    position: relative;
    width: fit-content;
    height: 100%;
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
}

.carousel-img {
    /* Smoothly animate the blur and opacity */
transition: filter 0.5s ease, opacity 0.5s ease, transform 0.3s ease, box-shadow 0.3s ease;    
    /* Default State (Clear) */
    filter: blur(0px);
    opacity: 1;
    transform: translateZ(0); /* Hardware acceleration helper */
}

/* Loading State (Blurred) */
.carousel-img.is-loading {
    filter: blur(20px); /* Heavy blur like the intro */
    opacity: 0.8;       /* Slight fade, but not white-out */
}

/* Invisible Cursor Zones */
.carousel-click-zone {
    position: absolute;
    top: 0;
    height: 100%;
    width: 50%;
    z-index: 20;
    cursor: none;
}
.zone-left { left: 0; }
.zone-right { right: 0; }

.carousel-shadow-overlay {
    position: absolute;
    top: 0;
    height: 100%;
    width: 15%; /* Matches the width of your click zones */
    pointer-events: none; /* Let clicks pass through */
    opacity: 0; /* Hidden by default */
    transition: opacity 0.3s ease;
    z-index: 19; /* Above image, below click zones */
}

/* Left Shadow: Fades from Dark to Transparent */
.shadow-left {
    left: 0;
    background: linear-gradient(to right, rgba(255, 255, 255, 1), transparent);
}

/* Right Shadow: Fades from Dark to Transparent */
.shadow-right {
    right: 0;
    background: linear-gradient(to left, rgba(255, 255, 255, 1), transparent);
}
/* =========================================
   INTERLACED CIRCLES LINK (Symbol)
   ========================================= */
.link-interlaced {
    position: relative;
    display: inline-block;
    width: 22px;  /* Total width */
    cursor: pointer;
    margin: 15px;
}

.link-interlaced::before, 
.link-interlaced::after {
    content: '';
    position: absolute;

    width: 15px; 
    height: 15px;
    border: 1.5px solid var(--color-blue); 
    border-radius: 50%;
    transition: all 0.3s ease;
}

.link-interlaced::before { left: 0; z-index: 1; }
.link-interlaced::after { right: 0; z-index: 0; }

/* HOVER: Pull apart */
.link-interlaced:hover::before { transform: translateX(-3px); box-shadow: 0 0 7px 2px rgba(0, 47, 167, 0.5);}
.link-interlaced:hover::after { transform: translateX(3px); box-shadow: 0 0 7px 2px rgba(0, 47, 167, 0.5);}

/* =========================================
   10. MOBILE & VERTICAL LAYOUT (RESPONSIVE)
   ========================================= */
@media (max-width: 900px), (orientation: portrait) {

    /* Reset Glass Card to Full Screen */
    .glass-card, .popup-panel {
        width: 85vw; 
        height: 85vh; /* Full screen */
    }

    .project-grid, 
    .archive-layout, 
    .card-content {
        width: 100%;
        height: 100%;       /* Fill the card */
        -webkit-overflow-scrolling: touch; /* Smooth scroll on iPhone */

    }
    
    /* Project Layout: Stacked */
    .project-grid {
        display: flex;
        flex-direction: column; /* Stack Text on top of Visuals */
        width: 100%;
        height: auto; /* Allow it to grow as long as needed */
    }

    
    /* Slide 1: Meta + Description (Side-by-side Top) */
    .text-group {
        width: 100%;
        height: auto;
        flex: none;
        flex-direction: row;
        padding: none;
        margin: none;
    }
    
    .col-meta h2 { font-size: 1.4rem; }
    .col-desc p { font-size: 0.9rem; }
    
    /* Slide 2: Visuals */
    .col-visual {
        width: 100%;
        margin-top: 20px;
    }
    .visual-content {
        width: 100%;
        height: auto;
        max-height: none; /* Remove desktop restriction */
        object-fit: contain;
    }

    /* Mobile Carousel Override */
    .carousel-container {
        height: auto !important; /* Grow with the image! */
        display: block;          /* Ensure it wraps the content */
    }

    .close-btn { 
    position: absolute;
    top: 20px;
    right: 20px;
    }

    #fixed-contact-dot {
    top:13px;
    }.archive-layout td, 
    .archive-layout th {
        /* Top/Bottom: 15px | Left/Right: 10px */
        
        /* Optional: Prevent text from hitting the very edge */
        box-sizing: border-box;
    }
    /* 1. The Container: Allow it to scroll sideways */
    .archive-layout {
        display: block;        /* Necessary for scrolling to work */
        width: 100%;
        overflow-x: auto;      /* Enables the horizontal swipe */
        -webkit-overflow-scrolling: touch;
    }

    /* 2. The Table: Force it to stay wide enough */
    .archive-layout table {
        width: 100%;
        min-width: 600px; /* Forces table to be wider than the phone screen */
        border-collapse: separate; 
        border-spacing: 0;
    }
    
}

/* =========================================
   10. MOBILE & VERTICAL LAYOUT (RESPONSIVE)
   ========================================= */
@media (max-width: 768px) {

    /* 1. THE FRAME (Card) - Fixed Window, Anchors Shadow */
    .glass-card, .popup-panel {
        width: 85vw;            /* Your Width Preference */
        height: 75vh;           /* Your Height Preference */
        position: relative;     /* Anchors the shadow */
        overflow: hidden;       /* STOPS shadow from scrolling */
        display: flex;
        flex-direction: column;
        padding: 30px !important;  /* Padding moved to Grid so scrollbar is correct */
    }

    /* 2. THE CONTENT (Grid) - Scrolls inside the Frame */
    .project-grid {
        display: flex;
        flex-direction: column; /* Stack items */
        width: 100%;
        height: 100%;           /* Fill the card */
        overflow-y: auto;       /* SCROLL HAPPENS HERE */
        -webkit-overflow-scrolling: touch; 
    }

    /* 3. THE FIX: Text Groups MUST NOT shrink or scroll */
    .text-group, 
    .col-meta, 
    .col-desc {
        display: block;          /* Flex sometimes bugs on nested text, Block is safer here */
        width: 100%;
        height: auto !important; /* Force full height */
        flex: 0 0 auto;          /* DO NOT SHRINK to fit screen */
        overflow: visible !important; /* Never create a scrollbar here */
    }

    /* Order Logic */
    .text-group {
        display: flex;
        flex-direction: column;
    }
    .col-meta {
        order: -1;
        margin-bottom: 15px;
    }

    /* 4. VISUALS - Ensure images fit */
    .visual-content {
        height: auto;
        width: 100%;
        max-height: none;
    }
}